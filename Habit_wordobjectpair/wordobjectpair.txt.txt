SIDES ARE {CENTER, RIGHT, LEFT}
DISPLAYS ARE {CENTER}
LIGHTS ARE {LEFT, CENTER, RIGHT}

TYPEDLET audio deeb = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\deeb.wav"
TYPEDLET audio geff = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\geff.wav"
TYPEDLET audio mip = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\mip.wav"
TYPEDLET video blue = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\blue.mp4"
TYPEDLET video green = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\green.mp4"
TYPEDLET video round = "C:\Users\ldev\Desktop\BITTSy\HabitExample\stim\round.mp4"

LINKED prepost = {mip, round}
LINKED deeb_blue = {deeb, blue}
LINKED deeb_green = {deeb, green}
LINKED geff_blue = {geff, blue}
LINKED geff_green = {geff, green}

LET habit_pairs = {deeb_blue, deeb_green, geff_blue, geff_green}
LET test_trials = {deeb_blue, deeb_green, geff_blue, geff_green}

DEFINE WINDOWSIZE 3
DEFINE WINDOWOVERLAP NO
DEFINE CRITERIONREDUCTION 0.65
DEFINE BASISCHOSEN FIRST
DEFINE WINDOWTYPE FIXED

STEP 1
Phase Pretrial Start

STEP 2
LIGHT CENTER BLINK 250
UNTIL KEY C

STEP 3
LIGHT CENTER OFF
Trial Start

STEP 4
VIDEO CENTER prepost LOOP
AUDIO CENTER prepost LOOP
UNTIL SINGLELOOKAWAY prepost GREATERTHAN 1000
UNTIL TIME 14000

STEP 5
Trial End
VIDEO CENTER OFF
AUDIO CENTER OFF

STEP 6
Phase End

STEP 7
Phase Habituation Start
LET pair = (FROM habit_pairs RANDOM)

STEP 8
LIGHT CENTER BLINK 250
UNTIL KEY C

STEP 9
LIGHT CENTER OFF
Trial Start

STEP 10
VIDEO CENTER pair LOOP
AUDIO CENTER pair LOOP
UNTIL SINGLELOOKAWAY pair GREATERTHAN 1000
UNTIL TIME 20000

STEP 11
Trial End
VIDEO CENTER OFF
AUDIO CENTER OFF

STEP 12
LOOP STEP 8
UNTIL 19 TIMES
UNTIL CRITERIONMET

STEP 13
Phase End

STEP 14
Phase Test Start

STEP 15
LIGHT CENTER BLINK 250
UNTIL KEY C

STEP 16
LIGHT CENTER OFF
Trial Start

STEP 17
LET test_item = (TAKE test_trials RANDOM)
VIDEO CENTER test_item LOOP
AUDIO CENTER test_item LOOP
UNTIL TIME 14000
UNTIL SINGLELOOKAWAY test_item GREATERTHAN 1000

STEP 11
Trial End
VIDEO CENTER OFF
AUDIO CENTER OFF

STEP 19
LOOP STEP 15
UNTIL 3 TIMES

STEP 20
Phase End

STEP 21
Phase Posttest Start

STEP 22
LIGHT CENTER BLINK 250
UNTIL KEY C

STEP 23
LIGHT CENTER OFF
LET prepost2 = (TAKE prepost RANDOM)
Trial Start

STEP 24
VIDEO CENTER prepost LOOP
AUDIO CENTER prepost LOOP
UNTIL SINGLELOOKAWAY prepost GREATERTHAN 1000
UNTIL TIME 14000

STEP 11
Trial End
VIDEO CENTER OFF
AUDIO CENTER OFF

STEP 26
Phase End